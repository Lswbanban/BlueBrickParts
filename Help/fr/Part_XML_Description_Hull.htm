<HTML>
<HEAD>
<META NAME="keywords" CONTENT="BlueBrick, Help">
<META NAME="description" CONTENT="The reference documentation for BlueBrick.">
<META NAME="author" CONTENT="Alban Nanty">
<LINK REL=StyleSheet HREF="../BlueBrick.css" TYPE="text/css" MEDIA=screen>
<Title>Describe the Hull</Title>
</HEAD>
<BODY>
<H1>Describe the Hull</H1>

<TABLE CLASS="XMLDescription">
<TR>
	<TD CLASS="Tilte">Syntax:</TD>
	<TD CLASS="XMLCode">&lt;hull&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;point&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;x&gt;...&lt;/x&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;y&gt;...&lt;/y&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;/point&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
		&lt;/hull&gt;	
	</TD>
</TR><TR>
	<TD CLASS="Tilte">Default Value:</TD>
	<TD>The 4 corners of the image define the hull by default.</TD>
</TR><TR>
	<TD CLASS="Tilte">Description:</TD>
	<TD>The Hull is the convex envelop that contains all the extremity of the part. It is defined by a list of points whose <FONT CLASS="Important">coordinates are in pixel</FONT>, relative to the top left corner of the part image.</TD>
</TR>
</TABLE>

<P>The Hull description is useful for parts that are neither square nor rectangular, such as a rail points or curves. BlueBrick uses the hull for selection picking and to compute the bounding box of the part. The bounding box is the smallest possible rectangular box (aligned on the vertical and horizontal axis) that can contains the whole part. A good hull will increase the usability of your part. The hull definition also has an impact on the amount of memory used by BlueBrick. This is because the hulls shape influences the size of the image needed to draw the part when rotated. Usually a convex hull is good enough, but you may want to define a concave hull to improve the picking selection. Generally speaking, please add as few points to the hull as possible as this influences the performance of the application.</P>

<P>Beware that the hull definition, unlike the previous parameters, is in pixel and not stud coordinates. The reason is that it is much easier to define the hull in pixels by using your image editor and finding the coordinates by moving the mouse over the image.</P>

<P>All the points defined in the list belong to the hull. For example if you want to define the hull of a part which width is 2 studs but with uneven height, the image of the part will be 16 pixel wide, and the minimum hull coordinate will be (0, ...) and the maximum hull coordinate will be (15, ...). Use integer value to define the pixel coordinates, not decimal values.</P>

<P>A wrong hull definition may cause the part to be truncated when it is rotated with a free angle. When you are specifying the hull of your part, a good way to test this is to rotate your part up to 360&deg; with small increments like 22.5&deg; and check at every step if the part is not truncated. Here are two examples for the hull definition of the 9V Switch Point and Curved Track:</P>

<CENTER><IMG SRC="../HullSwitchPoint.png">&nbsp;&nbsp;&nbsp;&nbsp;<IMG SRC="../HullCurve.png"></CENTER>
<BR>

<DIV CLASS="TechNote">
<PRE><B>Here is the corresponding XML for the hull of the 9V Switch Point:</B>

&lt;hull&gt;
    &lt;point&gt;
        &lt;x&gt;258&lt;/x&gt;
        &lt;y&gt;0&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;280&lt;/x&gt;
        &lt;y&gt;52&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;264&lt;/x&gt;
        &lt;y&gt;166&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;0&lt;/x&gt;
        &lt;y&gt;166&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;0&lt;/x&gt;
        &lt;y&gt;102&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;19&lt;/x&gt;
        &lt;y&gt;53&lt;/y&gt;
    &lt;/point&gt;
&lt;/hull&gt;
</PRE>
</DIV>

</BODY>
</HTML>
