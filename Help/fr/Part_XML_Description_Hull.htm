<HTML>
<HEAD>
<META NAME="keywords" CONTENT="BlueBrick, Help">
<META NAME="description" CONTENT="The reference documentation for BlueBrick.">
<META NAME="author" CONTENT="Alban Nanty">
<LINK REL=StyleSheet HREF="../BlueBrick.css" TYPE="text/css" MEDIA=screen>
<Title>Describe the Hull</Title>
</HEAD>
<BODY>
<H1>Describe the Hull</H1>

<TABLE CLASS="XMLDescription">
<TR>
	<TD CLASS="Tilte">Syntax:</TD>
	<TD CLASS="XMLCode">&lt;hull&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;point&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;x&gt;...&lt;/x&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;y&gt;...&lt;/y&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;/point&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
		&lt;/hull&gt;	
	</TD>
</TR><TR>
	<TD CLASS="Tilte">Default Value:</TD>
	<TD>The 4 corners of the image define the hull by default.</TD>
</TR><TR>
	<TD CLASS="Tilte">Description:</TD>
	<TD>The Hull is the convex envelop that contains all the extremity of the part. It is defined by a list of points whose <FONT CLASS="Important">coordinates are in pixel</FONT>, relative to the top left corner of the part image.</TD>
</TR>
</TABLE>

<P>The Hull description is useful for parts that are neither square nor rectangular, such as a rail points or curves. BlueBrick uses the hull for selection picking and to compute the bounding box of the part. The bounding box is the smallest possible rectangular box (aligned on the vertical and horizontal axis) that can contains the whole part. A good hull will increase the usability of your part. The hull definition also has an impact on the amount of memory used by BlueBrick. This is because the hulls shape influences the size of the image needed to draw the part when rotated. Usually a convex hull is good enough, but you may want to define a concave hull to improve the picking selection. Generally speaking, please add as few points to the hull as possible as this influences the performance of the application.</P>

<P>Beware that the hull definition, unlike the previous parameters, is in pixel and not stud coordinates. The reason is that it is much easier to define the hull in pixels by using your image editor and finding the coordinates by moving the mouse over the image.</P>

<P>BlueBrick actually shifts the pixel coordinates that you define in the XML file of 0.5 (half a pixel), in order to set the coordinate at the center of the pixel. However, note that you can use decimal values to define the pixel coordinates in the XML file. It is also allowed to use coordinates which are outside the image (i.e. negative value or value greater than the size of the image).</P>

<P>A wrong hull definition may cause the part to be truncated when it is rotated with a free angle. When you are specifying the hull of your part, a good way to verify it is to draw the Hull by choosing the <font class="Path">&nbsp;View &gt; Hulls &gt; Bricks&nbsp;</font> menu. Here are two examples: one for the hull definition of the 9V Switch Point Track which is a precise concave hull such as you can click around the yellow lever without selecting it; and one for the 9V Curved Track which is a good enough convex hull.</P>

<CENTER><IMG SRC="../HullSwitchPoint.png">&nbsp;&nbsp;&nbsp;&nbsp;<IMG SRC="../HullCurve.png"></CENTER>
<BR>

<DIV CLASS="TechNote">
<PRE><B>Here is the corresponding XML for the hull of the 9V Curve Track:</B>

&lt;hull&gt;
    &lt;point&gt;
        &lt;x&gt;0&lt;/x&gt;
        &lt;y&gt;0&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;74&lt;/x&gt;
        &lt;y&gt;5&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;138&lt;/x&gt;
        &lt;y&gt;26&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;138&lt;/x&gt;
        &lt;y&gt;38&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;121&lt;/x&gt;
        &lt;y&gt;77&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;114&lt;/x&gt;
        &lt;y&gt;85&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;0&lt;/x&gt;
        &lt;y&gt;64&lt;/y&gt;
    &lt;/point&gt;
&lt;/hull&gt;
</PRE>
</DIV>

</BODY>
</HTML>
