<HTML>
<HEAD>
<META NAME="keywords" CONTENT="BlueBrick, Help">
<META NAME="description" CONTENT="The reference documentation for BlueBrick.">
<META NAME="author" CONTENT="Alban Nanty">
<LINK REL=StyleSheet HREF="../BlueBrick.css" TYPE="text/css" MEDIA=screen>
<Title>Beschreibung der Hüllkurve</Title>
</HEAD>
<BODY>
<H1>Beschreibung der Hüllkurve</H1>

<TABLE CLASS="XMLDescription">
<TR>
	<TD CLASS="Tilte">Syntax:</TD>
	<TD CLASS="XMLCode">&lt;hull&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;point&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;x&gt;...&lt;/x&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;y&gt;...&lt;/y&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;/point&gt;<BR>
		&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
		&lt;/hull&gt;	
	</TD>
</TR><TR>
	<TD CLASS="Tilte">Standardwert:</TD>
	<TD>Die vier Ecken eines Bildes werden als Standardwert benutzt.</TD>
</TR><TR>
	<TD CLASS="Tilte">Beschreibung:</TD>
	<TD>Die Hüllkurve ist eine aus mehreren Geraden zusammengesetzte, geschlossene Linie, innerhalb derer sich das gesamte Teil inklusive hervorstehender Komponenten befindet. Die Hüllkurve wird durch eine Liste von Punkten definiert, deren <FONT CLASS="Important">Koordinaten in Pixel</FONT>, ausgehend von der oberen linken Ecke des Bildes, angegeben werden.</TD>
</TR>
</TABLE>

<DIV CLASS="ToTranslate"><P>Die Hüllkurve ist für nicht rechteckige Teile, wie z.B. Gleiskurven, nützlich. Bluebrick benutzt die Hüllkurve, um die das kleinste Rechteck zu berechnen, in das dieses Teil passt. Dabei ist dieses Rechteck immer parallel zu den Achsen ausgerichtet. Dieses Rechteck wird mit Hilfe der Hüllkurve berechnet. Die Hüllkurve hat einen Einfluss auf den von BlueBrick benötigten Speicherplatz, denn die Hüllkurve beeinflusst die Größe des bei einer Drehung eines Teils zu erstellenden Bildes. Usually a convex hull is good enough, but you may want to define a concave hull to improve the picking selection. Generally speaking, eine Hüllkurve sollte daher mit sowenig Punkten wie möglich erzeugt werden, um die Leistung von BlueBrick nicht unnötig zu beeinträchtigen.</P></DIV>

<P>Die Hüllkurve wird, im Gegensatz zu den vorherigen Parametern, <FONT CLASS="Important">in Pixel- und nicht in Noppen-Koordinaten</FONT> angegeben. Wird nämlich in einem Bildbearbeitungsprogramm die Maus über dem Bild bewegt, lassen sich die aktuellen Koordinaten der Mausposition direkt in Pixel ablesen. Die Eckpunkte der Hüllkurve lassen sich also einfach in Pixel bestimmen.</P>

<DIV CLASS="ToTranslate"><P>BlueBrick actually shifts the pixel coordinates that you define in the XML file of 0.5 (half a pixel), in order to set the coordinate at the center of the pixel. However, note that you can use decimal values to define the pixel coordinates in the XML file. It is also allowed to use coordinates which are outside the image (i.e. negative value or value greater than the size of the image).</P></DIV>

<P>Eine falsche Hüllkurve kann dazu führen, dass Teilbereiche eines Teils bei der Drehung um einen beliebigen Winkel abgeschnitten werden. <DIV CLASS="ToTranslate">When you are specifying the hull of your part, a good way to verify it is to draw the Hull by choosing the <font class="Path">&nbsp;View &gt; Hulls &gt; Bricks&nbsp;</font> menu. Here are two examples: one for the hull definition of the 9V Switch Point Track which is a precise concave hull such as you can click around the yellow lever without selecting it; and one for the 9V Curved Track which is a good enough convex hull.</div></P>

<CENTER><IMG SRC="../HullSwitchPoint.png">&nbsp;&nbsp;&nbsp;&nbsp;<IMG SRC="../HullCurve.png"></CENTER>
<BR>

<DIV CLASS="TechNote">
<PRE><B>Der zur Beschreibung der Hüllkurve der 9V Kurvengleis gehörende Teil der XML-Datei sieht wie folgt aus:</B>

&lt;hull&gt;
    &lt;point&gt;
        &lt;x&gt;0&lt;/x&gt;
        &lt;y&gt;0&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;74&lt;/x&gt;
        &lt;y&gt;5&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;138&lt;/x&gt;
        &lt;y&gt;26&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;138&lt;/x&gt;
        &lt;y&gt;38&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;121&lt;/x&gt;
        &lt;y&gt;77&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;114&lt;/x&gt;
        &lt;y&gt;85&lt;/y&gt;
    &lt;/point&gt;
    &lt;point&gt;
        &lt;x&gt;0&lt;/x&gt;
        &lt;y&gt;64&lt;/y&gt;
    &lt;/point&gt;
&lt;/hull&gt;
</PRE>
</DIV>

</BODY>
</HTML>
